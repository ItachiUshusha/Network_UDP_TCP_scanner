import socket

def scan_udp(host, port):
    # –°–æ–∑–¥–∞–µ–º —Å–æ–∫–µ—Ç –¥–ª—è UDP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
    with socket.socket(socket.AF_INET, socket.SOCK_DGRAM) as udp_s:
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Ä–µ–º—è (—Ç–∞–π–º-–∞—É—Ç)
        udp_s.settimeout(0.5)

        try:
            # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—É—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            udp_s.sendto(b"", (host, port))
            # –ü—Ä–∏–Ω–∏–º–∞–µ–º –æ—Ç–≤–µ—Ç
            data, adr = udp_s.recvfrom(1024)

            # –ï—Å–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ –æ—Ç–≤–µ—Ç —Ç–æ –≤—ã–≤–æ–¥–∏–º —á—Ç–æ –ø–æ—Ä—Ç –æ—Ç–∫—Ä—ã—Ç
            if adr:
                print(f"–ü–æ—Ä—Ç {port} –æ—Ç–∫—Ä—ã—Ç.")
        # –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –µ—Å–ª–∏ –∏—Å—Ç–µ–∫–ª–æ –≤—Ä–µ–º—è
        except socket.timeout:
            print(f"–ü–æ—Ä—Ç {port} –æ—Ç–∫—Ä—ã—Ç (—Ç–∞–π–º-–∞—É—Ç –∏—Å—Ç–µ–∫)")
        # –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –µ—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–∫—Ä—ã—Ç
        except ConnectionResetError:
            #print(f"–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ø–æ—Ä—Ç—É {port}")
            pass

        # –∑–∞–∫—Ä—ã–≤–∞–µ–º —Å–æ–∫–µ—Ç üëå
        udp_s.close()

host = ""

start = int(input("–í–≤–µ–¥–∏—Ç–µ —Å –∫–∞–∫–æ–≥–æ –ø–æ—Ä—Ç–∞ –Ω–∞—á–∞—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: "))
end = int(input("–í–≤–µ–¥–∏—Ç–µ –¥–æ –∫–∞–∫–æ–≥–æ –ø–æ—Ä—Ç–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å: "))

# –°–∫–∞–Ω–∏—Ä—É–µ–º –ø–æ—Ä—Ç—ã —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
for port in range(start, end+1):
    scan_udp(host, port)
